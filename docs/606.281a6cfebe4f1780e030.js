"use strict";(self.webpackChunkpantau_dashboard=self.webpackChunkpantau_dashboard||[]).push([[606],{606:(q,m,t)=>{t.r(m),t.d(m,{LogHarianPageModule:()=>Y});var d=t(8583),Z=t(665),n=t(2859),p=t(3955),u=t(4762),h=t(6738),f=t(4742),T=t(8792),o=t(3018),v=t(1628),A=t(2005);function H(a,e){if(1&a&&(o.TgZ(0,"ion-label"),o._uU(1),o.qZA()),2&a){const i=o.oxw().$implicit;o.xp6(1),o.Oqu(i.formattedtime)}}function P(a,e){if(1&a&&(o.TgZ(0,"ion-row",3),o.YNc(1,H,2,1,"ion-label",4),o.qZA()),2&a){const i=e.index;o.xp6(1),o.Q6J("ngIf",0==i)}}function L(a,e){if(1&a){const i=o.EpF();o.TgZ(0,"ion-item"),o.TgZ(1,"ion-label"),o._uU(2),o.qZA(),o.TgZ(3,"ion-label"),o._uU(4),o.qZA(),o.TgZ(5,"ion-label"),o._uU(6),o.qZA(),o.TgZ(7,"ion-grid"),o.YNc(8,P,2,1,"ion-row",1),o.qZA(),o.TgZ(9,"ion-label",2),o.NdJ("click",function(){const s=o.CHM(i).$implicit;return o.oxw().detail(s)}),o._uU(10,"Detail"),o.qZA(),o.qZA()}if(2&a){const i=e.$implicit;o.xp6(2),o.Oqu(i.id),o.xp6(2),o.Oqu(i.nik),o.xp6(2),o.Oqu(i.name),o.xp6(2),o.Q6J("ngForOf",i.log)}}const y=[{path:"",component:(()=>{class a{constructor(i,r,l,s,g){this.storage=i,this.loadingController=r,this.modalController=l,this.firestore=s,this.toastController=g,this.pasien=[]}ngOnInit(){return(0,u.__awaiter)(this,void 0,void 0,function*(){var i=yield f.Z.firestore().collection("pasien").get();i.empty?this.pasien=[]:(this.pasien=[],i.forEach(r=>{var l=r.data();l.id=r.id,this.pasien.push(l)}),this.getLog())})}getLog(){this.pasien.map((i,r)=>(0,u.__awaiter)(this,void 0,void 0,function*(){var l=yield f.Z.firestore().collection("pasien").doc(i.id).collection("log").orderBy("created_at","desc").get();if(l.empty)this.pasien[r].log=[];else{var s=[];l.forEach(g=>{var c=g.data();c.id=g.id,c.formattedtime=h(c.created_at).format("DD MMM YYYY HH:mm"),s.push(c),console.log(s)}),this.pasien[r].log=s}}))}detail(i){return(0,u.__awaiter)(this,void 0,void 0,function*(){(yield this.modalController.create({component:T.f,swipeToClose:!0,backdropDismiss:!1,componentProps:{onGoBack:()=>{},data:i}})).present()})}}return a.\u0275fac=function(i){return new(i||a)(o.Y36(v.K),o.Y36(n.HT),o.Y36(n.IN),o.Y36(A.ST),o.Y36(n.yF))},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-log-harian"]],decls:18,vars:1,consts:[[4,"ngFor","ngForOf"],["style","border: 0",4,"ngFor","ngForOf"],["color","primary",2,"cursor","pointer",3,"click"],[2,"border","0"],[4,"ngIf"]],template:function(i,r){1&i&&(o.TgZ(0,"ion-header"),o.TgZ(1,"ion-toolbar"),o.TgZ(2,"ion-title"),o._uU(3,"Laporan Harian Pasien"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(4,"ion-content"),o.TgZ(5,"ion-item"),o.TgZ(6,"ion-label"),o._uU(7,"ID Pasien"),o.qZA(),o.TgZ(8,"ion-label"),o._uU(9,"NIK"),o.qZA(),o.TgZ(10,"ion-label"),o._uU(11,"Nama"),o.qZA(),o.TgZ(12,"ion-label"),o._uU(13,"Update Terakhir"),o.qZA(),o.TgZ(14,"ion-label"),o._uU(15,"Action"),o.qZA(),o.qZA(),o.TgZ(16,"ion-list"),o.YNc(17,L,11,4,"ion-item",0),o.qZA(),o.qZA()),2&i&&(o.xp6(17),o.Q6J("ngForOf",r.pasien))},directives:[n.Gu,n.sr,n.wd,n.W2,n.Ie,n.Q$,n.q_,d.sg,n.jY,n.Nd,d.O5],styles:[""]}),a})()}];let x=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[p.Bz.forChild(y)],p.Bz]}),a})(),Y=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=o.oAB({type:a}),a.\u0275inj=o.cJS({imports:[[d.ez,Z.u5,n.Pc,x]]}),a})()}}]);