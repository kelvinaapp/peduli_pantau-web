(self.webpackChunkpantau_dashboard=self.webpackChunkpantau_dashboard||[]).push([[2282],{3187:I=>{var C={utf8:{stringToBytes:function(c){return C.bin.stringToBytes(unescape(encodeURIComponent(c)))},bytesToString:function(c){return decodeURIComponent(escape(C.bin.bytesToString(c)))}},bin:{stringToBytes:function(c){for(var a=[],l=0;l<c.length;l++)a.push(255&c.charCodeAt(l));return a},bytesToString:function(c){for(var a=[],l=0;l<c.length;l++)a.push(String.fromCharCode(c[l]));return a.join("")}}};I.exports=C},8278:I=>{var C,c;C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I.exports=c={rotl:function(a,l){return a<<l|a>>>32-l},rotr:function(a,l){return a<<32-l|a>>>l},endian:function(a){if(a.constructor==Number)return 16711935&c.rotl(a,8)|4278255360&c.rotl(a,24);for(var l=0;l<a.length;l++)a[l]=c.endian(a[l]);return a},randomBytes:function(a){for(var l=[];a>0;a--)l.push(Math.floor(256*Math.random()));return l},bytesToWords:function(a){for(var l=[],s=0,y=0;s<a.length;s++,y+=8)l[y>>>5]|=a[s]<<24-y%32;return l},wordsToBytes:function(a){for(var l=[],s=0;s<32*a.length;s+=8)l.push(a[s>>>5]>>>24-s%32&255);return l},bytesToHex:function(a){for(var l=[],s=0;s<a.length;s++)l.push((a[s]>>>4).toString(16)),l.push((15&a[s]).toString(16));return l.join("")},hexToBytes:function(a){for(var l=[],s=0;s<a.length;s+=2)l.push(parseInt(a.substr(s,2),16));return l},bytesToBase64:function(a){for(var l=[],s=0;s<a.length;s+=3)for(var y=a[s]<<16|a[s+1]<<8|a[s+2],m=0;m<4;m++)l.push(8*s+6*m<=8*a.length?C.charAt(y>>>6*(3-m)&63):"=");return l.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/gi,"");for(var l=[],s=0,y=0;s<a.length;y=++s%4)0!=y&&l.push((C.indexOf(a.charAt(s-1))&Math.pow(2,-2*y+8)-1)<<2*y|C.indexOf(a.charAt(s))>>>6-2*y);return l}}},8646:I=>{function C(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}I.exports=function(a){return null!=a&&(C(a)||function(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&C(a.slice(0,0))}(a)||!!a._isBuffer)}},8559:(I,C,c)=>{var a,l,s,y,m;a=c(8278),l=c(3187).utf8,s=c(8646),y=c(3187).bin,(m=function(f,d){f.constructor==String?f=d&&"binary"===d.encoding?y.stringToBytes(f):l.stringToBytes(f):s(f)?f=Array.prototype.slice.call(f,0):!Array.isArray(f)&&f.constructor!==Uint8Array&&(f=f.toString());for(var e=a.bytesToWords(f),M=8*f.length,o=1732584193,t=-271733879,r=-1732584194,n=271733878,i=0;i<e.length;i++)e[i]=16711935&(e[i]<<8|e[i]>>>24)|4278255360&(e[i]<<24|e[i]>>>8);e[M>>>5]|=128<<M%32,e[14+(M+64>>>9<<4)]=M;var T=m._ff,p=m._gg,h=m._hh,_=m._ii;for(i=0;i<e.length;i+=16){var g=o,F=t,u=r,v=n;o=T(o,t,r,n,e[i+0],7,-680876936),n=T(n,o,t,r,e[i+1],12,-389564586),r=T(r,n,o,t,e[i+2],17,606105819),t=T(t,r,n,o,e[i+3],22,-1044525330),o=T(o,t,r,n,e[i+4],7,-176418897),n=T(n,o,t,r,e[i+5],12,1200080426),r=T(r,n,o,t,e[i+6],17,-1473231341),t=T(t,r,n,o,e[i+7],22,-45705983),o=T(o,t,r,n,e[i+8],7,1770035416),n=T(n,o,t,r,e[i+9],12,-1958414417),r=T(r,n,o,t,e[i+10],17,-42063),t=T(t,r,n,o,e[i+11],22,-1990404162),o=T(o,t,r,n,e[i+12],7,1804603682),n=T(n,o,t,r,e[i+13],12,-40341101),r=T(r,n,o,t,e[i+14],17,-1502002290),o=p(o,t=T(t,r,n,o,e[i+15],22,1236535329),r,n,e[i+1],5,-165796510),n=p(n,o,t,r,e[i+6],9,-1069501632),r=p(r,n,o,t,e[i+11],14,643717713),t=p(t,r,n,o,e[i+0],20,-373897302),o=p(o,t,r,n,e[i+5],5,-701558691),n=p(n,o,t,r,e[i+10],9,38016083),r=p(r,n,o,t,e[i+15],14,-660478335),t=p(t,r,n,o,e[i+4],20,-405537848),o=p(o,t,r,n,e[i+9],5,568446438),n=p(n,o,t,r,e[i+14],9,-1019803690),r=p(r,n,o,t,e[i+3],14,-187363961),t=p(t,r,n,o,e[i+8],20,1163531501),o=p(o,t,r,n,e[i+13],5,-1444681467),n=p(n,o,t,r,e[i+2],9,-51403784),r=p(r,n,o,t,e[i+7],14,1735328473),o=h(o,t=p(t,r,n,o,e[i+12],20,-1926607734),r,n,e[i+5],4,-378558),n=h(n,o,t,r,e[i+8],11,-2022574463),r=h(r,n,o,t,e[i+11],16,1839030562),t=h(t,r,n,o,e[i+14],23,-35309556),o=h(o,t,r,n,e[i+1],4,-1530992060),n=h(n,o,t,r,e[i+4],11,1272893353),r=h(r,n,o,t,e[i+7],16,-155497632),t=h(t,r,n,o,e[i+10],23,-1094730640),o=h(o,t,r,n,e[i+13],4,681279174),n=h(n,o,t,r,e[i+0],11,-358537222),r=h(r,n,o,t,e[i+3],16,-722521979),t=h(t,r,n,o,e[i+6],23,76029189),o=h(o,t,r,n,e[i+9],4,-640364487),n=h(n,o,t,r,e[i+12],11,-421815835),r=h(r,n,o,t,e[i+15],16,530742520),o=_(o,t=h(t,r,n,o,e[i+2],23,-995338651),r,n,e[i+0],6,-198630844),n=_(n,o,t,r,e[i+7],10,1126891415),r=_(r,n,o,t,e[i+14],15,-1416354905),t=_(t,r,n,o,e[i+5],21,-57434055),o=_(o,t,r,n,e[i+12],6,1700485571),n=_(n,o,t,r,e[i+3],10,-1894986606),r=_(r,n,o,t,e[i+10],15,-1051523),t=_(t,r,n,o,e[i+1],21,-2054922799),o=_(o,t,r,n,e[i+8],6,1873313359),n=_(n,o,t,r,e[i+15],10,-30611744),r=_(r,n,o,t,e[i+6],15,-1560198380),t=_(t,r,n,o,e[i+13],21,1309151649),o=_(o,t,r,n,e[i+4],6,-145523070),n=_(n,o,t,r,e[i+11],10,-1120210379),r=_(r,n,o,t,e[i+2],15,718787259),t=_(t,r,n,o,e[i+9],21,-343485551),o=o+g>>>0,t=t+F>>>0,r=r+u>>>0,n=n+v>>>0}return a.endian([o,t,r,n])})._ff=function(f,d,e,M,o,t,r){var n=f+(d&e|~d&M)+(o>>>0)+r;return(n<<t|n>>>32-t)+d},m._gg=function(f,d,e,M,o,t,r){var n=f+(d&M|e&~M)+(o>>>0)+r;return(n<<t|n>>>32-t)+d},m._hh=function(f,d,e,M,o,t,r){var n=f+(d^e^M)+(o>>>0)+r;return(n<<t|n>>>32-t)+d},m._ii=function(f,d,e,M,o,t,r){var n=f+(e^(d|~M))+(o>>>0)+r;return(n<<t|n>>>32-t)+d},m._blocksize=16,m._digestsize=16,I.exports=function(f,d){if(null==f)throw new Error("Illegal argument "+f);var e=a.wordsToBytes(m(f,d));return d&&d.asBytes?e:d&&d.asString?y.bytesToString(e):a.bytesToHex(e)}},2282:(I,C,c)=>{"use strict";c.r(C),c.d(C,{RegisterPageModule:()=>_});var a=c(8583),l=c(665),s=c(2859),y=c(3955),m=c(4762),f=c(8559),d=c.n(f),e=c(3018),M=c(2005);function o(g,F){if(1&g){const u=e.EpF();e.TgZ(0,"ion-input",9),e.NdJ("ngModelChange",function(x){return e.CHM(u),e.oxw().$implicit.value=x}),e.qZA()}if(2&g){const u=e.oxw().$implicit;e.Q6J("formControlName",u.name)("ngModel",u.value)}}function t(g,F){if(1&g){const u=e.EpF();e.TgZ(0,"ion-input",10),e.NdJ("ngModelChange",function(x){return e.CHM(u),e.oxw().$implicit.value=x}),e.qZA()}if(2&g){const u=e.oxw().$implicit;e.Q6J("formControlName",u.name)("ngModel",u.value)}}function r(g,F){if(1&g){const u=e.EpF();e.TgZ(0,"ion-input",11),e.NdJ("ngModelChange",function(x){return e.CHM(u),e.oxw().$implicit.value=x}),e.qZA()}if(2&g){const u=e.oxw().$implicit;e.Q6J("formControlName",u.name)("ngModel",u.value)}}function n(g,F){if(1&g){const u=e.EpF();e.TgZ(0,"ion-datetime",12),e.NdJ("ngModelChange",function(x){return e.CHM(u),e.oxw().$implicit.value=x}),e.qZA()}if(2&g){const u=e.oxw().$implicit;e.Q6J("formControlName",u.name)("ngModel",u.value)}}function i(g,F){if(1&g&&(e.TgZ(0,"ion-item"),e.TgZ(1,"ion-label",4),e._uU(2),e.qZA(),e.YNc(3,o,1,2,"ion-input",5),e.YNc(4,t,1,2,"ion-input",6),e.YNc(5,r,1,2,"ion-input",7),e.YNc(6,n,1,2,"ion-datetime",8),e.qZA()),2&g){const u=F.$implicit;e.xp6(2),e.Oqu(u.label),e.xp6(1),e.Q6J("ngIf","text"==u.type),e.xp6(1),e.Q6J("ngIf","number"==u.type),e.xp6(1),e.Q6J("ngIf","password"==u.type),e.xp6(1),e.Q6J("ngIf","datetime"==u.type)}}const p=[{path:"",component:(()=>{class g{constructor(u,v,x,P){this.loadingController=u,this.formBuilder=v,this.toastController=x,this.firestore=P,this.forms=[],this.forms=[{label:"NIK",type:"number",secure:!1,value:"",name:"nik"},{label:"Nama Lengkap",type:"text",secure:!1,value:"",name:"name"},{label:"Password",type:"password",secure:!1,value:"",name:"password"},{label:"Alamat",type:"text",secure:!1,value:"",name:"alamat"},{label:"Tanggal Lahir",type:"datetime",secure:!1,value:"",name:"tgl_lahir"},{label:"Tanggal Positif",type:"datetime",secure:!1,value:"",name:"tgl_positif"}]}ngOnInit(){console.log(this.firestore),this.ionicForm=this.formBuilder.group({name:["",[l.kI.required,l.kI.minLength(2)]],nik:["",[l.kI.required,l.kI.minLength(2)]],password:["",[l.kI.required,l.kI.minLength(2)]],alamat:["",[l.kI.required,l.kI.minLength(2)]],tgl_lahir:["",[l.kI.required,l.kI.minLength(2)]],tgl_positif:["",[l.kI.required,l.kI.minLength(2)]],tgl_negatif:[""],status:[!0]})}submit(){return(0,m.__awaiter)(this,void 0,void 0,function*(){if(console.log(this.ionicForm.value),!this.ionicForm.valid)return console.log("Please provide all the required values!"),(yield this.toastController.create({message:"Mohon isi semua form",position:"top",duration:4e3,color:"danger"})).present(),!1;this.showLoading(),console.log(this.ionicForm.value);var u=this.ionicForm.value;u.nik=u.nik.toString(),u.password=d()(u.password),yield this.firestore.collection("pasien").add(u).then(v=>(0,m.__awaiter)(this,void 0,void 0,function*(){yield this.firestore.collection("pasien").doc(v.id).collection("log").add({init:!0}),yield this.firestore.collection("pasien").doc(v.id).collection("location").add({init:!0}),yield this.firestore.collection("pasien").doc(v.id).collection("measurement").add({init:!0}),this.hideLoading(),this.ionicForm.reset(),(yield this.toastController.create({message:"Pasien berhasil di daftarkan",position:"top",duration:4e3,color:"success"})).present()})).catch(v=>(0,m.__awaiter)(this,void 0,void 0,function*(){this.hideLoading(),(yield this.toastController.create({message:"Gagal menambahkan pasien:\n"+v.message,position:"top",duration:4e3,color:"danger"})).present()}))})}showLoading(){return(0,m.__awaiter)(this,void 0,void 0,function*(){this.loading=yield this.loadingController.create({message:"Please wait..."}),yield this.loading.present()})}hideLoading(){this.loading.dismiss()}setValue(u){console.log("Setting value for ",u)}}return g.\u0275fac=function(u){return new(u||g)(e.Y36(s.HT),e.Y36(l.qu),e.Y36(s.yF),e.Y36(M.ST))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-register"]],decls:10,vars:2,consts:[[1,"ion-padding"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],["type","submit",1,"ion-align-self-center"],["position","floating"],["type","text","required","true",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["type","number","required","true",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["type","password","required","true",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["mode","md","displayFormat","DD MM YYYY","placeholder","Pilih Tanggal","required","true",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["type","text","required","true",3,"formControlName","ngModel","ngModelChange"],["type","number","required","true",3,"formControlName","ngModel","ngModelChange"],["type","password","required","true",3,"formControlName","ngModel","ngModelChange"],["mode","md","displayFormat","DD MM YYYY","placeholder","Pilih Tanggal","required","true",3,"formControlName","ngModel","ngModelChange"]],template:function(u,v){1&u&&(e.TgZ(0,"ion-header"),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-title"),e._uU(3,"Daftarkan Pasien"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",0),e.TgZ(5,"ion-list"),e.TgZ(6,"form",1),e.NdJ("ngSubmit",function(){return v.submit()}),e.YNc(7,i,7,5,"ion-item",2),e.TgZ(8,"ion-button",3),e._uU(9,"Submit"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&u&&(e.xp6(6),e.Q6J("formGroup",v.ionicForm),e.xp6(1),e.Q6J("ngForOf",v.forms))},directives:[s.Gu,s.sr,s.wd,s.W2,s.q_,l._Y,l.JL,l.sg,a.sg,s.YG,s.Ie,s.Q$,a.O5,s.pK,s.j9,l.Q7,l.JJ,l.u,s.as,s.x4,s.QI],styles:[""]}),g})()}];let h=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[y.Bz.forChild(p)],y.Bz]}),g})(),_=(()=>{class g{}return g.\u0275fac=function(u){return new(u||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[a.ez,l.u5,s.Pc,l.UX,h]]}),g})()}}]);