{"version":3,"file":"src_app_pasien_pasien_module_ts.js","mappings":"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","sources":["./src/app/pasien/pasien-routing.module.ts","./src/app/pasien/pasien.module.ts","./src/app/pasien/pasien.page.ts","./src/app/pasien/pasien.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PasienPage } from './pasien.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PasienPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PasienPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PasienPageRoutingModule } from './pasien-routing.module';\r\n\r\nimport { PasienPage } from './pasien.page';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PasienPageRoutingModule,\r\n    NgxDatatableModule\r\n  ],\r\n  declarations: [PasienPage]\r\n})\r\nexport class PasienPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Storage } from '@ionic/storage-angular';\r\nimport { AngularFirestore } from '@angular/fire/firestore';\r\nimport {\r\n  ToastController,\r\n  ModalController,\r\n  PopoverController,\r\n  AlertController,\r\n  LoadingController,\r\n} from '@ionic/angular';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport * as moment from 'moment';\r\nimport { PasienDetailPage } from '../pasien-detail/pasien-detail.page';\r\nimport { PasienEditPage } from '../pasien-edit/pasien-edit.page';\r\n@Component({\r\n  selector: 'app-pasien',\r\n  templateUrl: './pasien.page.html',\r\n  styleUrls: ['./pasien.page.scss'],\r\n})\r\nexport class PasienPage implements OnInit {\r\n  loading: any;\r\n  pasien: any = [];\r\n  tmppasien: any;\r\n  column: any;\r\n\r\n  constructor(\r\n    private modalController: ModalController,\r\n    private loadingController: LoadingController,\r\n    private toastController: ToastController,\r\n    private firestore: AngularFirestore\r\n  ) {\r\n    this.column = [\r\n      { prop: 'nik', name: 'NIK' },\r\n      { prop: 'name', name: 'Name' },\r\n      { prop: 'alamat', name: 'Alamat' },\r\n      { prop: 'tgl_lahir', name: 'Tgl Lahir' },\r\n      { prop: 'tgl_positif', name: 'Tgl Positif' },\r\n      { prop: 'tgl_negatif', name: 'Tgl Negatif' },\r\n      { prop: 'lama_isoman', name: 'Lama isoman' },\r\n      { prop: 'status', name: 'Status' },\r\n      { prop: 'action', name: 'Action' },\r\n    ];\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getData();\r\n  }\r\n\r\n  async getData() {\r\n    this.showLoading();\r\n    await this.firestore\r\n      .collection('pasien')\r\n      .get()\r\n      .subscribe(async (snapshot) => {\r\n        this.pasien = [];\r\n        await snapshot.forEach(async (snap) => {\r\n          var data = snap.data();\r\n          if (Object.keys(data).length > 0) {\r\n            data['id'] = snap.id;\r\n            data['lama_isoman'] =\r\n              data['status'] == true\r\n                ? moment().diff(moment(data['tgl_positif']), 'days')\r\n                : moment(data['tgl_negatif']).diff(\r\n                    moment(data['tgl_positif']),\r\n                    'days'\r\n                  );\r\n            data['tgl_lahir'] = moment(data['tgl_lahir']).format('DD MMM YYYY');\r\n            data['tgl_positif'] = moment(data['tgl_positif']).format(\r\n              'DD MMM YYYY'\r\n            );\r\n            data['tgl_negatif'] =\r\n              data['tgl_negatif'] == ''\r\n                ? '-'\r\n                : moment(data['tgl_negatif']).format('DD MMM YYYY');\r\n\r\n            this.pasien.push(data);\r\n          }\r\n        });\r\n        console.log(this.pasien);\r\n        await setTimeout(async () => {\r\n          await this.hideLoading();\r\n          this.tmppasien = this.pasien;\r\n        }, 800);\r\n      });\r\n  }\r\n\r\n  filter(e) {\r\n    console.log('Filter:', e.detail.value);\r\n    var str = e.detail.value;\r\n    this.pasien = this.tmppasien;\r\n    if (str.length > 0) {\r\n      this.pasien = this.pasien.filter(\r\n        (x) =>\r\n          x.name.toLowerCase().includes(str.toLowerCase()) ||\r\n          x.nik.toString().includes(str)\r\n      );\r\n    } else {\r\n      this.pasien = this.tmppasien;\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    this.pasien = [];\r\n  }\r\n\r\n  async showLoading() {\r\n    this.loading = await this.loadingController.create({\r\n      message: 'Please wait...',\r\n    });\r\n    await this.loading.present();\r\n  }\r\n\r\n  async hideLoading() {\r\n    await this.loading.dismiss();\r\n  }\r\n\r\n  open(p) {\r\n    console.log('Open pasien:', p);\r\n  }\r\n  async detail(p) {\r\n    console.log('Detail:', p);\r\n    var modal = await this.modalController.create({\r\n      component: PasienDetailPage,\r\n      swipeToClose: true,\r\n      backdropDismiss: false,\r\n      componentProps: { onGoBack: () => {}, data: p },\r\n    });\r\n    await modal.present();\r\n  }\r\n\r\n  async edit(p) {\r\n    console.log('Detail:', p);\r\n    var modal = await this.modalController.create({\r\n      component: PasienEditPage,\r\n      swipeToClose: true,\r\n      backdropDismiss: false,\r\n      componentProps: {\r\n        onGoBack: () => {\r\n          this.getData();\r\n        },\r\n        data: p,\r\n      },\r\n    });\r\n    await modal.present();\r\n  }\r\n}\r\n","export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Data Pasien</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\">\\r\\n      <ion-button color=\\\"primary\\\" (click)=\\\"getData()\\\">Refresh Data</ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <ion-searchbar\\r\\n    showCancelButton=\\\"focus\\\"\\r\\n    (ionChange)=\\\"filter($event)\\\"\\r\\n  ></ion-searchbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content class=\\\"ion-padding\\\">\\r\\n  <ion-item>\\r\\n    <ion-label *ngFor=\\\"let col of column\\\"><b>{{col.name}}</b></ion-label>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-list>\\r\\n    <ion-item *ngFor=\\\"let p of pasien\\\">\\r\\n      <ion-label>{{p.nik}}</ion-label>\\r\\n      <ion-label>{{p.name}}</ion-label>\\r\\n      <ion-label>{{p.alamat}}</ion-label>\\r\\n      <ion-label>{{p.tgl_lahir}}</ion-label>\\r\\n      <ion-label>{{p.tgl_positif}}</ion-label>\\r\\n      <ion-label>{{p.tgl_negatif}}</ion-label>\\r\\n      <ion-label>{{p.lama_isoman}} hari</ion-label>\\r\\n      <ion-label>{{p.status == true ? \\\"Aktif\\\":\\\"Sembuh\\\"}}</ion-label>\\r\\n      <ion-label\\r\\n        color=\\\"primary\\\"\\r\\n        style=\\\"cursor: pointer\\\"\\r\\n        (click)=\\\"edit(p)\\\"\\r\\n        fill=\\\"clear\\\"\\r\\n        >Edit</ion-label\\r\\n      >\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n\";"],"names":[],"sourceRoot":"webpack:///"}