"use strict";(self.webpackChunkpantau_dashboard=self.webpackChunkpantau_dashboard||[]).push([[5983],{5983:(y,d,r)=>{r.r(d),r.d(d,{FormPageModule:()=>A});var u=r(8583),Z=r(665),i=r(2859),g=r(3955),c=r(4762),f=r(4742),p=r(559),o=r(3018),h=r(1628),F=r(2005);function T(n,a){if(1&n&&(o.TgZ(0,"ion-item"),o.TgZ(1,"ion-label",8),o._uU(2),o.qZA(),o.qZA()),2&n){const t=a.$implicit;o.xp6(2),o.Oqu(t.label)}}function v(n,a){if(1&n){const t=o.EpF();o.TgZ(0,"ion-item"),o.TgZ(1,"ion-label"),o._uU(2),o.qZA(),o.YNc(3,T,3,1,"ion-item",3),o.TgZ(4,"ion-button",4),o.NdJ("click",function(){const l=o.CHM(t).$implicit;return o.oxw().deleteQuestion(l.id)}),o._UZ(5,"ion-icon",5),o.qZA(),o.TgZ(6,"ion-button",6),o.NdJ("click",function(){const s=o.CHM(t),l=s.$implicit,m=s.index;return o.oxw().editQuestion(l,l.nomor||m+1)}),o._UZ(7,"ion-icon",7),o.qZA(),o.qZA()}if(2&n){const t=a.$implicit,e=a.index;o.xp6(2),o.AsE("",e+1,". ",t.question,""),o.xp6(1),o.Q6J("ngForOf",t.option)}}const P=[{path:"",component:(()=>{class n{constructor(t,e,s,l,m){this.storage=t,this.loadingController=e,this.modalController=s,this.firestore=l,this.toastController=m,this.form=[]}ngOnInit(){return(0,c.__awaiter)(this,void 0,void 0,function*(){this.loadForm()})}loadForm(){return(0,c.__awaiter)(this,void 0,void 0,function*(){var t=yield f.Z.firestore().collection("formlog").orderBy("nomor","asc").get();t.empty?this.form=[]:(this.form=[],t.forEach(e=>{var s=e.data();s.id=e.id,this.form.push(s)}))})}deleteQuestion(t){f.Z.firestore().collection("formlog").doc(t).delete().then(()=>{this.loadForm()})}addQuestion(){return(0,c.__awaiter)(this,void 0,void 0,function*(){(yield this.modalController.create({component:p.Q,swipeToClose:!0,backdropDismiss:!1,componentProps:{onGoBack:()=>{this.loadForm()},totalquestion:this.form.length}})).present()})}editQuestion(t,e){return(0,c.__awaiter)(this,void 0,void 0,function*(){(yield this.modalController.create({component:p.Q,swipeToClose:!0,backdropDismiss:!1,componentProps:{onGoBack:()=>{this.loadForm()},isEdit:!0,nomor:e,data:t}})).present()})}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(h.K),o.Y36(i.HT),o.Y36(i.IN),o.Y36(F.ST),o.Y36(i.yF))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-form"]],decls:15,vars:1,consts:[["slot","end"],["color","primary",3,"click"],["slot","start"],[4,"ngFor","ngForOf"],["fill","clear","color","danger",3,"click"],["name","trash"],["fill","clear","color","primary",3,"click"],["name","pencil"],["color","medium"]],template:function(t,e){1&t&&(o.TgZ(0,"ion-header"),o.TgZ(1,"ion-toolbar"),o.TgZ(2,"ion-title"),o._uU(3,"Form Laporan Harian"),o.qZA(),o.TgZ(4,"ion-buttons",0),o.TgZ(5,"ion-button",1),o.NdJ("click",function(){return e.addQuestion()}),o._uU(6,"Tambah Pertanyaan"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"ion-content"),o.TgZ(8,"ion-item"),o.TgZ(9,"ion-label",2),o._uU(10,"Pertanyaan"),o.qZA(),o.TgZ(11,"ion-label",0),o._uU(12,"Jawaban"),o.qZA(),o.qZA(),o.TgZ(13,"ion-list"),o.YNc(14,v,8,3,"ion-item",3),o.qZA(),o.qZA()),2&t&&(o.xp6(14),o.Q6J("ngForOf",e.form))},directives:[i.Gu,i.sr,i.wd,i.Sm,i.YG,i.W2,i.Ie,i.Q$,i.q_,u.sg,i.gu],styles:[""]}),n})()}];let _=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[g.Bz.forChild(P)],g.Bz]}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[u.ez,Z.u5,i.Pc,_]]}),n})()}}]);