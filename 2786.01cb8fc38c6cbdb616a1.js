(self.webpackChunkpantau_dashboard=self.webpackChunkpantau_dashboard||[]).push([[2786],{3187:E=>{var I={utf8:{stringToBytes:function(u){return I.bin.stringToBytes(unescape(encodeURIComponent(u)))},bytesToString:function(u){return decodeURIComponent(escape(I.bin.bytesToString(u)))}},bin:{stringToBytes:function(u){for(var l=[],a=0;a<u.length;a++)l.push(255&u.charCodeAt(a));return l},bytesToString:function(u){for(var l=[],a=0;a<u.length;a++)l.push(String.fromCharCode(u[a]));return l.join("")}}};E.exports=I},8278:E=>{var I,u;I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E.exports=u={rotl:function(l,a){return l<<a|l>>>32-a},rotr:function(l,a){return l<<32-a|l>>>a},endian:function(l){if(l.constructor==Number)return 16711935&u.rotl(l,8)|4278255360&u.rotl(l,24);for(var a=0;a<l.length;a++)l[a]=u.endian(l[a]);return l},randomBytes:function(l){for(var a=[];l>0;l--)a.push(Math.floor(256*Math.random()));return a},bytesToWords:function(l){for(var a=[],d=0,C=0;d<l.length;d++,C+=8)a[C>>>5]|=l[d]<<24-C%32;return a},wordsToBytes:function(l){for(var a=[],d=0;d<32*l.length;d+=8)a.push(l[d>>>5]>>>24-d%32&255);return a},bytesToHex:function(l){for(var a=[],d=0;d<l.length;d++)a.push((l[d]>>>4).toString(16)),a.push((15&l[d]).toString(16));return a.join("")},hexToBytes:function(l){for(var a=[],d=0;d<l.length;d+=2)a.push(parseInt(l.substr(d,2),16));return a},bytesToBase64:function(l){for(var a=[],d=0;d<l.length;d+=3)for(var C=l[d]<<16|l[d+1]<<8|l[d+2],f=0;f<4;f++)a.push(8*d+6*f<=8*l.length?I.charAt(C>>>6*(3-f)&63):"=");return a.join("")},base64ToBytes:function(l){l=l.replace(/[^A-Z0-9+\/]/gi,"");for(var a=[],d=0,C=0;d<l.length;C=++d%4)0!=C&&a.push((I.indexOf(l.charAt(d-1))&Math.pow(2,-2*C+8)-1)<<2*C|I.indexOf(l.charAt(d))>>>6-2*C);return a}}},8646:E=>{function I(l){return!!l.constructor&&"function"==typeof l.constructor.isBuffer&&l.constructor.isBuffer(l)}E.exports=function(l){return null!=l&&(I(l)||function(l){return"function"==typeof l.readFloatLE&&"function"==typeof l.slice&&I(l.slice(0,0))}(l)||!!l._isBuffer)}},8559:(E,I,u)=>{var l,a,d,C,f;l=u(8278),a=u(3187).utf8,d=u(8646),C=u(3187).bin,(f=function(_,c){_.constructor==String?_=c&&"binary"===c.encoding?C.stringToBytes(_):a.stringToBytes(_):d(_)?_=Array.prototype.slice.call(_,0):!Array.isArray(_)&&_.constructor!==Uint8Array&&(_=_.toString());for(var n=l.bytesToWords(_),m=8*_.length,o=1732584193,e=-271733879,i=-1732584194,t=271733878,r=0;r<n.length;r++)n[r]=16711935&(n[r]<<8|n[r]>>>24)|4278255360&(n[r]<<24|n[r]>>>8);n[m>>>5]|=128<<m%32,n[14+(m+64>>>9<<4)]=m;var h=f._ff,v=f._gg,A=f._hh,p=f._ii;for(r=0;r<n.length;r+=16){var P=o,g=e,x=i,s=t;o=h(o,e,i,t,n[r+0],7,-680876936),t=h(t,o,e,i,n[r+1],12,-389564586),i=h(i,t,o,e,n[r+2],17,606105819),e=h(e,i,t,o,n[r+3],22,-1044525330),o=h(o,e,i,t,n[r+4],7,-176418897),t=h(t,o,e,i,n[r+5],12,1200080426),i=h(i,t,o,e,n[r+6],17,-1473231341),e=h(e,i,t,o,n[r+7],22,-45705983),o=h(o,e,i,t,n[r+8],7,1770035416),t=h(t,o,e,i,n[r+9],12,-1958414417),i=h(i,t,o,e,n[r+10],17,-42063),e=h(e,i,t,o,n[r+11],22,-1990404162),o=h(o,e,i,t,n[r+12],7,1804603682),t=h(t,o,e,i,n[r+13],12,-40341101),i=h(i,t,o,e,n[r+14],17,-1502002290),o=v(o,e=h(e,i,t,o,n[r+15],22,1236535329),i,t,n[r+1],5,-165796510),t=v(t,o,e,i,n[r+6],9,-1069501632),i=v(i,t,o,e,n[r+11],14,643717713),e=v(e,i,t,o,n[r+0],20,-373897302),o=v(o,e,i,t,n[r+5],5,-701558691),t=v(t,o,e,i,n[r+10],9,38016083),i=v(i,t,o,e,n[r+15],14,-660478335),e=v(e,i,t,o,n[r+4],20,-405537848),o=v(o,e,i,t,n[r+9],5,568446438),t=v(t,o,e,i,n[r+14],9,-1019803690),i=v(i,t,o,e,n[r+3],14,-187363961),e=v(e,i,t,o,n[r+8],20,1163531501),o=v(o,e,i,t,n[r+13],5,-1444681467),t=v(t,o,e,i,n[r+2],9,-51403784),i=v(i,t,o,e,n[r+7],14,1735328473),o=A(o,e=v(e,i,t,o,n[r+12],20,-1926607734),i,t,n[r+5],4,-378558),t=A(t,o,e,i,n[r+8],11,-2022574463),i=A(i,t,o,e,n[r+11],16,1839030562),e=A(e,i,t,o,n[r+14],23,-35309556),o=A(o,e,i,t,n[r+1],4,-1530992060),t=A(t,o,e,i,n[r+4],11,1272893353),i=A(i,t,o,e,n[r+7],16,-155497632),e=A(e,i,t,o,n[r+10],23,-1094730640),o=A(o,e,i,t,n[r+13],4,681279174),t=A(t,o,e,i,n[r+0],11,-358537222),i=A(i,t,o,e,n[r+3],16,-722521979),e=A(e,i,t,o,n[r+6],23,76029189),o=A(o,e,i,t,n[r+9],4,-640364487),t=A(t,o,e,i,n[r+12],11,-421815835),i=A(i,t,o,e,n[r+15],16,530742520),o=p(o,e=A(e,i,t,o,n[r+2],23,-995338651),i,t,n[r+0],6,-198630844),t=p(t,o,e,i,n[r+7],10,1126891415),i=p(i,t,o,e,n[r+14],15,-1416354905),e=p(e,i,t,o,n[r+5],21,-57434055),o=p(o,e,i,t,n[r+12],6,1700485571),t=p(t,o,e,i,n[r+3],10,-1894986606),i=p(i,t,o,e,n[r+10],15,-1051523),e=p(e,i,t,o,n[r+1],21,-2054922799),o=p(o,e,i,t,n[r+8],6,1873313359),t=p(t,o,e,i,n[r+15],10,-30611744),i=p(i,t,o,e,n[r+6],15,-1560198380),e=p(e,i,t,o,n[r+13],21,1309151649),o=p(o,e,i,t,n[r+4],6,-145523070),t=p(t,o,e,i,n[r+11],10,-1120210379),i=p(i,t,o,e,n[r+2],15,718787259),e=p(e,i,t,o,n[r+9],21,-343485551),o=o+P>>>0,e=e+g>>>0,i=i+x>>>0,t=t+s>>>0}return l.endian([o,e,i,t])})._ff=function(_,c,n,m,o,e,i){var t=_+(c&n|~c&m)+(o>>>0)+i;return(t<<e|t>>>32-e)+c},f._gg=function(_,c,n,m,o,e,i){var t=_+(c&m|n&~m)+(o>>>0)+i;return(t<<e|t>>>32-e)+c},f._hh=function(_,c,n,m,o,e,i){var t=_+(c^n^m)+(o>>>0)+i;return(t<<e|t>>>32-e)+c},f._ii=function(_,c,n,m,o,e,i){var t=_+(n^(c|~m))+(o>>>0)+i;return(t<<e|t>>>32-e)+c},f._blocksize=16,f._digestsize=16,E.exports=function(_,c){if(null==_)throw new Error("Illegal argument "+_);var n=l.wordsToBytes(f(_,c));return c&&c.asBytes?n:c&&c.asString?C.bytesToString(n):l.bytesToHex(n)}},2786:(E,I,u)=>{"use strict";u.d(I,{a:()=>P});var p,l=u(4762),a=u(665),d=u(6738),f=u(8559),c=u(4742),n=u(3018),m=u(2859),o=u(2005),e=u(8583);function i(g,x){if(1&g){const s=n.EpF();n.TgZ(0,"ion-input",11),n.NdJ("ngModelChange",function(T){return n.CHM(s),n.oxw().$implicit.value=T}),n.qZA()}if(2&g){const s=n.oxw().$implicit;n.Q6J("formControlName",s.name)("ngModel",s.value)}}function t(g,x){if(1&g){const s=n.EpF();n.TgZ(0,"ion-input",12),n.NdJ("ngModelChange",function(T){return n.CHM(s),n.oxw().$implicit.value=T}),n.qZA()}if(2&g){const s=n.oxw().$implicit;n.Q6J("formControlName",s.name)("ngModel",s.value)}}function r(g,x){if(1&g){const s=n.EpF();n.TgZ(0,"ion-input",13),n.NdJ("ngModelChange",function(T){return n.CHM(s),n.oxw().$implicit.value=T}),n.qZA()}if(2&g){const s=n.oxw().$implicit;n.Q6J("formControlName",s.name)("ngModel",s.value)}}function h(g,x){if(1&g&&(n.TgZ(0,"ion-item"),n._UZ(1,"ion-radio",15),n.TgZ(2,"ion-label"),n._uU(3),n.qZA(),n.qZA()),2&g){const s=x.$implicit;n.xp6(1),n.Q6J("value",s.value),n.xp6(2),n.Oqu(s.label)}}function v(g,x){if(1&g){const s=n.EpF();n.TgZ(0,"ion-radio-group",14),n.NdJ("ngModelChange",function(T){return n.CHM(s),n.oxw().$implicit.value=T}),n.YNc(1,h,4,2,"ion-item",5),n.qZA()}if(2&g){const s=n.oxw().$implicit;n.Q6J("formControlName",s.name)("ngModel",s.value),n.xp6(1),n.Q6J("ngForOf",s.option)}}function A(g,x){if(1&g&&(n.TgZ(0,"ion-item"),n.TgZ(1,"ion-label"),n._uU(2),n.qZA(),n.YNc(3,i,1,2,"ion-input",7),n.YNc(4,t,1,2,"ion-input",8),n.YNc(5,r,1,2,"ion-input",9),n.YNc(6,v,2,3,"ion-radio-group",10),n.qZA()),2&g){const s=x.$implicit;n.xp6(2),n.Oqu(s.label),n.xp6(1),n.Q6J("ngIf","text"==s.type),n.xp6(1),n.Q6J("ngIf","password"==s.type),n.xp6(1),n.Q6J("ngIf","number"==s.type),n.xp6(1),n.Q6J("ngIf","radio"==s.type)}}let P=(()=>{class g{constructor(s,y,T,M,F){this.loadingController=s,this.formBuilder=y,this.modalController=T,this.toastController=M,this.firestore=F,this.forms=[{label:"NIK",type:"number",secure:!1,value:"",name:"nik"},{label:"Nama Lengkap",type:"text",secure:!1,value:"",name:"name"},{label:"Alamat",type:"text",secure:!1,value:"",name:"alamat"},{label:"Username",type:"text",secure:!1,value:"",name:"username"},{label:"Password",type:"password",secure:!1,value:"",name:"password"},{label:"Privileges",type:"radio",secure:!1,value:"",name:"privileges",option:[{label:"Superadmin",value:"superadmin"},{label:"Admin",value:"admin"}]}]}ngOnInit(){this.isEdit?(this.forms=[{label:"NIK",type:"number",secure:!1,value:this.data.nik,name:"nik"},{label:"Nama Lengkap",type:"text",secure:!1,value:this.data.name,name:"name"},{label:"Alamat",type:"text",secure:!1,value:this.data.alamat,name:"alamat"},{label:"Username",type:"text",secure:!1,value:this.data.username,name:"username"},{label:"Password",type:"password",secure:!1,value:this.data.password,name:"password"},{label:"Privileges",type:"radio",secure:!1,value:this.data.privileges,name:"privileges",option:[{label:"Superadmin",value:"superadmin"},{label:"Admin",value:"admin"}]}],this.ionicForm=this.formBuilder.group({nik:[this.data.nik,[a.kI.required,a.kI.minLength(2)]],name:[this.data.name,[a.kI.required,a.kI.minLength(2)]],alamat:[this.data.alamat,[a.kI.required,a.kI.minLength(2)]],username:[this.data.username,[a.kI.required,a.kI.minLength(2)]],password:[this.data.password,[a.kI.required,a.kI.minLength(2)]],privileges:[this.data.privileges,[a.kI.required,a.kI.minLength(2)]]})):this.ionicForm=this.formBuilder.group({nik:["",[a.kI.required,a.kI.minLength(2)]],name:["",[a.kI.required,a.kI.minLength(2)]],alamat:["",[a.kI.required,a.kI.minLength(2)]],username:["",[a.kI.required,a.kI.minLength(2)]],password:["",[a.kI.required,a.kI.minLength(2)]],privileges:["",[a.kI.required,a.kI.minLength(2)]]})}submit(){return(0,l.__awaiter)(this,void 0,void 0,function*(){if(this.showLoading(),this.isEdit)this.ionicForm.valid?((s=this.ionicForm.value).password=f(s.password),s.updated_at=d().valueOf(),c.Z.firestore().collection("admin").doc(this.data.id).update(s).then(()=>(0,l.__awaiter)(this,void 0,void 0,function*(){this.hideLoading(),(yield this.toastController.create({message:"Admin berhasil diupdate",duration:3e3,color:"success"})).present(),this.onGoBack(),this.modalController.dismiss()})).catch(T=>(0,l.__awaiter)(this,void 0,void 0,function*(){this.hideLoading(),(yield this.toastController.create({message:"Admin gagal diupdate:"+T.message,duration:5e3,color:"danger"})).present(),this.onGoBack(),this.modalController.dismiss()}))):(yield this.toastController.create({message:"Mohon isi semua form",duration:3e3,color:"danger"})).present();else if(this.ionicForm.valid){var s;(s=this.ionicForm.value).password=f(s.password),s.created_at=d().valueOf(),c.Z.firestore().collection("admin").add(s).then(()=>(0,l.__awaiter)(this,void 0,void 0,function*(){this.hideLoading(),(yield this.toastController.create({message:"Admin berhasil ditambah",duration:3e3,color:"success"})).present(),this.onGoBack(),this.modalController.dismiss()})).catch(M=>(0,l.__awaiter)(this,void 0,void 0,function*(){this.hideLoading(),(yield this.toastController.create({message:"Admin gagal ditambakan:"+M.message,duration:5e3,color:"danger"})).present(),this.onGoBack(),this.modalController.dismiss()}))}else(yield this.toastController.create({message:"Mohon isi semua form",duration:3e3,color:"danger"})).present()})}close(){this.modalController.dismiss()}showLoading(){return(0,l.__awaiter)(this,void 0,void 0,function*(){p=yield this.loadingController.create({cssClass:"my-custom-class",message:"Please wait..."}),yield p.present()})}hideLoading(){p.dismiss()}}return g.\u0275fac=function(s){return new(s||g)(n.Y36(m.HT),n.Y36(a.qu),n.Y36(m.IN),n.Y36(m.yF),n.Y36(o.ST))},g.\u0275cmp=n.Xpm({type:g,selectors:[["app-add-admin"]],inputs:{onGoBack:"onGoBack",data:"data",isEdit:"isEdit"},decls:13,vars:2,consts:[["slot","start"],[3,"click"],["name","close"],[1,"ion-padding"],[3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],["type","submit"],["type","text",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["type","password",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["type","number",3,"formControlName","ngModel","ngModelChange",4,"ngIf"],[3,"formControlName","ngModel","ngModelChange",4,"ngIf"],["type","text",3,"formControlName","ngModel","ngModelChange"],["type","password",3,"formControlName","ngModel","ngModelChange"],["type","number",3,"formControlName","ngModel","ngModelChange"],[3,"formControlName","ngModel","ngModelChange"],[3,"value"]],template:function(s,y){1&s&&(n.TgZ(0,"ion-header"),n.TgZ(1,"ion-toolbar"),n.TgZ(2,"ion-buttons",0),n.TgZ(3,"ion-button",1),n.NdJ("click",function(){return y.close()}),n._UZ(4,"ion-icon",2),n.qZA(),n.qZA(),n.TgZ(5,"ion-title"),n._uU(6,"Tambah Admin"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"ion-content",3),n.TgZ(8,"ion-list"),n.TgZ(9,"form",4),n.NdJ("ngSubmit",function(){return y.submit()}),n.YNc(10,A,7,5,"ion-item",5),n.TgZ(11,"ion-button",6),n._uU(12,"Submit"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&s&&(n.xp6(9),n.Q6J("formGroup",y.ionicForm),n.xp6(1),n.Q6J("ngForOf",y.forms))},directives:[m.Gu,m.sr,m.Sm,m.YG,m.gu,m.wd,m.W2,m.q_,a._Y,a.JL,a.sg,e.sg,m.Ie,m.Q$,e.O5,m.pK,m.j9,a.JJ,a.u,m.as,m.se,m.QI,m.B7,m.U5],styles:[""]}),g})()}}]);